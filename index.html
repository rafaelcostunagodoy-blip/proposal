<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>For You</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Kalam:wght@400;700&display=swap" rel="stylesheet">
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: 'Kalam', cursive;
    }

    body {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      background: #fbeff5;
      position: relative;
      overflow: hidden;
      color: #2d1437;
    }

    .bg-rotated {
      position: fixed;
      inset: 0;
      z-index: -1;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .bg-rotated-inner {
      width: 100vw;
      height: 100vh;
      background-image: url("bg paper.jfif");
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      transform: rotate(90deg);
    }

    .card {
      background: rgba(255, 255, 255, 0.95);
      border-radius: 20px;
      padding: 30px 24px 26px;
      max-width: 380px;
      width: 90%;
      text-align: center;
      box-shadow:
        0 18px 50px rgba(0, 0, 0, 0.18),
        0 0 0 1px rgba(255, 255, 255, 0.8);
      position: relative;
      overflow: hidden;
    }

    .card::before,
    .card::after {
      content: "";
      position: absolute;
      border-radius: 999px;
      opacity: 0.12;
      filter: blur(1px);
    }

    .card::before {
      width: 220px;
      height: 220px;
      background: #ff80c8;
      top: -120px;
      right: -90px;
    }

    .card::after {
      width: 180px;
      height: 180px;
      background: #ffb347;
      bottom: -100px;
      left: -70px;
    }

    .title {
      font-size: 1.8rem;
      font-weight: 700;
      margin-bottom: 6px;
      position: relative;
      z-index: 1;
    }

    .subtitle {
      font-size: 0.95rem;
      opacity: 0.8;
      margin-bottom: 24px;
      position: relative;
      z-index: 1;
    }

    .question {
      font-size: 1.4rem;
      font-weight: 600;
      margin-bottom: 24px;
      position: relative;
      z-index: 1;
    }

    .buttons {
      display: flex;
      justify-content: center;
      gap: 14px;
      position: relative;
      z-index: 2;
      min-height: 48px;
    }

    button {
      border: none;
      border-radius: 999px;
      padding: 10px 20px;
      font-size: 0.95rem;
      font-weight: 600;
      cursor: pointer;
      transition:
        transform 0.18s ease,
        box-shadow 0.18s ease,
        background 0.18s ease,
        color 0.18s ease;
      white-space: nowrap;
    }

    #yesBtn {
      background: linear-gradient(135deg, #ff6ba6, #ff4b8b);
      color: #fff;
      box-shadow: 0 8px 18px rgba(255, 75, 139, 0.4);
    }

    #yesBtn:hover {
      transform: translateY(-2px) scale(1.03);
      box-shadow: 0 12px 22px rgba(255, 75, 139, 0.5);
    }

    #yesBtn:active {
      transform: translateY(0) scale(0.98);
      box-shadow: 0 5px 12px rgba(255, 75, 139, 0.45);
    }

    #noBtn {
      background: #ffffff;
      color: #ff4b8b;
      border: 1px solid rgba(255, 75, 139, 0.4);
      box-shadow: 0 6px 14px rgba(0, 0, 0, 0.08);
      position: relative;
    }

    #noBtn:hover {
      transform: translateY(-2px);
      background: #fff5fb;
    }

    #noBtn:active {
      transform: translateY(0);
    }

    @keyframes teleport {
      0% {
        opacity: 1;
        transform: translate(var(--from-x), var(--from-y)) scale(1);
      }
      40% {
        opacity: 0;
        transform: translate(var(--mid-x), var(--mid-y)) scale(0.7);
      }
      60% {
        opacity: 0;
        transform: translate(var(--mid-x), var(--mid-y)) scale(0.7);
      }
      100% {
        opacity: 1;
        transform: translate(var(--to-x), var(--to-y)) scale(1);
      }
    }

    .teleporting {
      animation: teleport 0.7s ease-in-out forwards;
    }

    @keyframes popIn {
      0% {
        transform: scale(0.7);
        opacity: 0;
      }
      60% {
        transform: scale(1.05);
        opacity: 1;
      }
      100% {
        transform: scale(1);
        opacity: 1;
      }
    }

    .footer-note {
      margin-top: 12px;
      font-size: 0.75rem;
      opacity: 0.7;
      position: relative;
      z-index: 1;
    }

    .heart-animation-container {
      position: fixed;
      inset: 0;
      background: #ff0000; /* Pure red background */
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }

    .floating-heart {
      position: absolute;
      color: #ff0000;
      animation: float 2s ease-out forwards;
      opacity: 0.9;
      text-shadow: 0 0 10px rgba(255, 0, 0, 0.6);
      will-change: transform, opacity;
    }

    @keyframes float {
      0% {
        transform: translateY(100vh) scale(0);
        opacity: 0;
      }
      10% {
        opacity: 0.9;
      }
      90% {
        opacity: 0.9;
      }
      100% {
        transform: translateY(-100vh) scale(1);
        opacity: 0;
      }
    }

    .gift-button {
      margin-top: 22px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 10px 22px;
      border-radius: 999px;
      background: linear-gradient(135deg, #ffb347, #ff6ba6);
      color: #fff;
      font-weight: 600;
      font-size: 0.9rem;
      border: none;
      cursor: pointer;
      box-shadow: 0 8px 18px rgba(255, 133, 102, 0.35);
      transition: transform 0.18s ease, box-shadow 0.18s ease;
    }

    .gift-button:hover {
      transform: translateY(-1px) scale(1.02);
      box-shadow: 0 12px 22px rgba(255, 133, 102, 0.45);
    }

    .gift-screen {
      margin-top: 20px;
      animation: popIn 0.6s ease-out;
    }

    .gift-tabs {
      display: flex;
      gap: 10px;
      justify-content: center;
      margin-top: 12px;
    }

    .gift-tab {
      flex: 1;
      min-width: 0;
      border-radius: 12px;
      padding: 16px 12px;
      border: 2px solid #ff4b8b;
      background: #ffffff;
      cursor: pointer;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 6px;
      font-size: 0.85rem;
      font-weight: 600;
      color: #ff4b8b;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      transition: transform 0.18s ease, box-shadow 0.18s ease, border-color 0.18s ease;
    }

    .gift-tab:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
      border-color: #ff6ba6;
    }

    .gift-tab.active {
      background: #ff4b8b;
      color: #fff;
      border-color: #ff4b8b;
      box-shadow: 0 6px 12px rgba(255, 75, 139, 0.4);
    }

    .gift-tab-icon {
      font-size: 2.2rem;
      line-height: 1;
    }

    .gift-tab-label {
      white-space: nowrap;
      font-size: 0.9rem;
    }

    .gift-content-pane {
      margin-top: 18px;
      padding-top: 4px;
    }

    .rose {
      width: 140px;
      height: 140px;
      margin: 0 auto 10px;
      border-radius: 999px;
      background-image: url("flower.jfif");
      background-size: cover;
      background-position: center;
      position: relative;
      box-shadow: 0 15px 25px rgba(255, 75, 139, 0.45);
      animation: pulse 1.3s ease-in-out infinite;
    }


    .rose-stem {
      width: 4px;
      height: 42px;
      background: linear-gradient(to bottom, #198754, #0f5132);
      border-radius: 999px;
      margin: -4px auto 0;
      position: relative;
    }

    .rose-stem::before,
    .rose-stem::after {
      content: "";
      position: absolute;
      width: 18px;
      height: 18px;
      background: radial-gradient(circle at 0 0, #d1f5d3 0%, #6bbf73 40%, #3b7551 90%);
      border-radius: 18px 0 18px 0;
    }

    .rose-stem::before {
      left: -15px;
      top: 10px;
      transform: rotate(-25deg);
    }

    .rose-stem::after {
      right: -15px;
      top: 22px;
      transform: rotate(155deg);
    }

    @keyframes pulse {
      0% {
        transform: scale(1);
        box-shadow: 0 15px 25px rgba(255, 75, 139, 0.45);
      }
      50% {
        transform: scale(1.08);
        box-shadow: 0 22px 32px rgba(255, 75, 139, 0.65);
      }
      100% {
        transform: scale(1);
        box-shadow: 0 15px 25px rgba(255, 75, 139, 0.45);
      }
    }

    .letter-notebook {
      margin-top: 10px;
      padding: 14px 14px 16px;
      border-radius: 14px;
      background: repeating-linear-gradient(
          to bottom,
          #fff,
          #fff 20px,
          #ffe4f1 20px,
          #ffe4f1 21px
        );
      box-shadow: 0 14px 26px rgba(0, 0, 0, 0.12);
      border: 1px solid rgba(255, 75, 139, 0.3);
      position: relative;
      overflow: hidden;
    }

    .letter-notebook::before {
      content: "";
      position: absolute;
      left: 10px;
      top: 0;
      bottom: 0;
      width: 3px;
      background: linear-gradient(to bottom, #ffb3d9, #ff6ba6);
      opacity: 0.7;
    }

    .letter-placeholder {
      font-size: 0.85rem;
      color: #b85a8f;
      line-height: 1.7;
      padding-left: 16px;
    }
  </style>
</head>
<body>
  <div class="bg-rotated">
    <div class="bg-rotated-inner"></div>
  </div>

  <div class="card">
    <h1 class="title">Hi Ela</h1>
    <p class="subtitle">uhmm ano hehe</p>
    <p class="question">Will you be my girlfriend?</p>

    <div class="buttons">
      <button id="yesBtn">Yes</button>
      <button id="noBtn">No</button>
    </div>

  </div>

  <script>
    const yesBtn = document.getElementById("yesBtn");
    const noBtn = document.getElementById("noBtn");

    yesBtn.addEventListener("click", () => {
      const card = document.querySelector(".card");

      card.innerHTML = `
        <h1 class="title">Yessssssssssssssssss!</h1>
        <p class="question" style="margin-top: 10px;">
          Our monthsary day is <strong>26</strong> — it's official now!
        </p>
        <p class="subtitle" style="margin-top: 18px;">
          You made me the happiest person today. Iloveyou Ela
        </p>
        <p>Dahil jan you owe me a kiss HWEHWHHEHWHEWH</p>
        <button class="gift-button" id="giftBtn">Continue to your virtual gift</button>
        <div id="giftArea"></div>
      `;

      card.style.animation = "popIn 0.6s ease-out";

      const giftBtn = document.getElementById("giftBtn");
      const giftArea = document.getElementById("giftArea");

      // Define these functions in higher scope so they're accessible when reattaching
      let giftsViewed = { flower: false, letter: false };

      function openFlowerPage() {
        const fullBody = document.body;
        giftsViewed.flower = true;
        fullBody.innerHTML = `
          <div class="bg-rotated">
            <div class="bg-rotated-inner"></div>
          </div>
          <div class="card" style="max-width: 420px; padding-top: 34px; padding-bottom: 32px;">
            <h1 class="title">For you, my rose</h1>
            <div style="text-align:center; margin-top: 4px;">
              <div class="rose"></div>
              <p class="subtitle" style="margin-top: 14px;">
                Every beat of this pulsing rose is how my heart feels when I think of you.
              </p>
            </div>
            <button class="gift-button" id="backToGiftsBtn" style="margin-top: 16px;">Back to gifts</button>
          </div>
        `;
      }

      function openLetterPage() {
        const fullBody = document.body;
        giftsViewed.letter = true;
        fullBody.innerHTML = `
          <div class="bg-rotated">
            <div class="bg-rotated-inner"></div>
          </div>
          <div class="card" style="max-width: 420px; padding-top: 34px; padding-bottom: 32px;">
            <h1 class="title">A letter for you</h1>
            <p class="subtitle" style="margin-bottom: 10px;">Our little notebook of memories</p>
            <div class="letter-notebook" style="max-height: 300px; overflow-y: auto; padding-right: 10px;">
              <div class="letter-placeholder" style="text-align: left; line-height: 1.6; font-size: 0.85rem; color: #2d1437;">
                Hi Ela kung nababasa mo man to ibig sabihin may mata ka, de joke, kung nababasa mo man to ibig sabihin hawak mo cp ko and nov 26 na de jk seryoso na, sorry bae kung eto palang muna yung kaya ko--wala pang budget e and sorry din kase nag sinungaling ako na matutulog na ako pero eto ako ngayon medj puyat kakagawa neto wag ka magalit ha gusto ko lng kase maparamdam sa'yo na mahal na mahal kita and I'll never stop giving you gifts because you deserve all my love, mahal na mahal kita sobra Ela and ayaw na kitang mawala, ALAM MO BA?<br><br>
                WALA<br><br>
                yan yung tanong na naka tatak na sa'kin, nakaka inis 'diba<br><br>
                pero eto seryoso, ALAM MO BA?<br><br>
                na inlove na inlove ako sa'yo, gustong gusto ko yung pag tataray mo, yung ngiti mo, yung tawa mo yung muka mong sobrang cute sa VC kapag nakatagilid ka na nakahiga, yung buhok mo na sobrang haba and yung ano hehe<br><br>
                bae I'll promise to be the best partner to you, ayaw na ayaw kitang mawala and I always wanted you to be happy, sobrang swerte ko sa'yo at gusto ko na malaman mo yon.<br><br>
                again ILOVEYOU ELA.<br><br>
                from your boyfriend,<br>
                Raf
              </div>
            </div>
            
            <button class="gift-button" id="backToGiftsBtn" style="margin-top: 16px;">Back to gifts</button>
          </div>
        `;
      }

      function openFinalQuestion() {
        const fullBody = document.body;
        fullBody.innerHTML = `
          <div class="bg-rotated">
            <div class="bg-rotated-inner"></div>
          </div>
          <div class="card">
            <h1 class="title">Do you love the gift I made for you bae?</h1>
            <div class="buttons">
              <button class="btn" id="finalYesBtn">Yes - kiss me</button>
              <button class="btn" id="finalNoBtn">No - french kiss me</button>
            </div>
          </div>
        `;

        const finalYesBtn = document.getElementById("finalYesBtn");
        const finalNoBtn = document.getElementById("finalNoBtn");

        // Make the buttons non-clickable by not adding any event listeners

        // After 10 seconds, show the kiss button
        setTimeout(() => {
          const card = document.querySelector(".card");
          const buttonsContainer = card.querySelector(".buttons");
          
          // Create a new container for the kiss button to avoid overlap
          const kissButtonContainer = document.createElement("div");
          kissButtonContainer.style.textAlign = "center";
          kissButtonContainer.style.marginTop = "20px";
          
          const kissButton = document.createElement("button");
          kissButton.className = "gift-button";
          kissButton.id = "kissBtn";
          kissButton.textContent = "if you already kiss raf click this";
          
          kissButtonContainer.appendChild(kissButton);
          card.appendChild(kissButtonContainer);
          
          // Add click handler for the kiss button
          kissButton.addEventListener("click", () => {
            startHeartAnimation();
          });
        }, 10000);
      }

      function startHeartAnimation() {
        const fullBody = document.body;
        fullBody.innerHTML = `
          <div class="heart-animation-container" id="heartContainer">
            <!-- Hearts will be added here dynamically -->
          </div>
        `;
        
        let heartCount = 0;
        // Reduce hearts for mobile performance
        const maxHearts = window.innerWidth < 768 ? 50 : 150;
        const container = document.getElementById("heartContainer");
        
        function createHeart() {
          if (heartCount >= maxHearts) {
            // Show final message after screen is filled with red hearts
            setTimeout(() => {
              const finalMessage = document.createElement("div");
              finalMessage.className = "final-message";
              finalMessage.innerHTML = `
                <h1 style="color: white; font-size: 3rem; text-shadow: 0 0 20px rgba(0,0,0,0.8); margin: 0;">ILOVEYOU MY ELA</h1>
                <p style="color: white; font-size: 1.5rem; text-shadow: 0 0 10px rgba(0,0,0,0.8); margin-top: 20px;">lets enjoy the rest of the day together</p>
              `;
              finalMessage.style.position = "fixed";
              finalMessage.style.top = "50%";
              finalMessage.style.left = "50%";
              finalMessage.style.transform = "translate(-50%, -50%)";
              finalMessage.style.textAlign = "center";
              finalMessage.style.zIndex = "1000";
              
              document.body.appendChild(finalMessage);
            }, 1000);
            return;
          }
          
          const heart = document.createElement("div");
          heart.className = "floating-heart";
          heart.innerHTML = "❤️";
          heart.style.left = Math.random() * 100 + "%";
          heart.style.top = Math.random() * 100 + "%";
          heart.style.animationDelay = Math.random() * 0.5 + "s";
          // Smaller hearts on mobile for better performance
          const isMobile = window.innerWidth < 768;
          heart.style.fontSize = (Math.random() * (isMobile ? 30 : 60) + (isMobile ? 20 : 40)) + "px";
          heart.style.color = `hsl(${Math.random() * 20}, 100%, 50%)`;
          heart.style.opacity = Math.random() * 0.3 + 0.7;
          
          container.appendChild(heart);
          heartCount++;
          
          // Slower heart generation on mobile
          setTimeout(createHeart, isMobile ? 100 : 30);
        }
        
        createHeart();
      }

      giftBtn.addEventListener("click", () => {
        const fullBody = document.body;

        fullBody.innerHTML = `
          <div class="bg-rotated">
            <div class="bg-rotated-inner"></div>
          </div>
          <div class="card" id="giftCard">
            <h1 class="title">Your virtual gift</h1>
            <p class="subtitle" style="margin-bottom: 4px;">Choose which one you want to open first:</p>
            <div class="gift-tabs">
              <button class="gift-tab" id="flowerTab">
                <span class="gift-tab-icon"></span>
                <span class="gift-tab-label">Flower</span>
              </button>
              <button class="gift-tab" id="letterTab">
                <span class="gift-tab-icon"></span>
                <span class="gift-tab-label">Letter</span>
              </button>
            </div>
            ${giftsViewed.flower && giftsViewed.letter ? `
              <button class="gift-button" id="finalQuestionBtn" style="margin-top: 20px;">Continue to final question</button>
            ` : ''}
          </div>
        `;

        const flowerTab = document.getElementById("flowerTab");
        const letterTab = document.getElementById("letterTab");

        if (flowerTab) flowerTab.addEventListener("click", openFlowerPage);
        if (letterTab) letterTab.addEventListener("click", openLetterPage);

        if (giftsViewed.flower && giftsViewed.letter) {
          const finalQuestionBtn = document.getElementById("finalQuestionBtn");
          if (finalQuestionBtn) {
            finalQuestionBtn.addEventListener("click", openFinalQuestion);
          }
        }
      });

      // Back to gifts button logic
      document.addEventListener("click", (e) => {
        if (e.target && e.target.id === "backToGiftsBtn") {
          const fullBody = document.body;
          fullBody.innerHTML = `
            <div class="bg-rotated">
              <div class="bg-rotated-inner"></div>
            </div>
            <div class="card" id="giftCard">
              <h1 class="title">Your virtual gift</h1>
              <p class="subtitle" style="margin-bottom: 4px;">Choose which one you want to open first:</p>
              <div class="gift-tabs">
                <button class="gift-tab" id="flowerTab">
                  <span class="gift-tab-icon"></span>
                  <span class="gift-tab-label">Flower</span>
                </button>
                <button class="gift-tab" id="letterTab">
                  <span class="gift-tab-icon"></span>
                  <span class="gift-tab-label">Letter</span>
                </button>
              </div>
              ${giftsViewed.flower && giftsViewed.letter ? `
                <button class="gift-button" id="finalQuestionBtn" style="margin-top: 20px;">Continue to final question</button>
              ` : ''}
            </div>
          `;

          // Re-attach event listeners after restoring HTML
          const flowerTab = document.getElementById("flowerTab");
          const letterTab = document.getElementById("letterTab");

          if (flowerTab) flowerTab.addEventListener("click", openFlowerPage);
          if (letterTab) letterTab.addEventListener("click", openLetterPage);

          // Show final question button if both gifts have been viewed
          if (giftsViewed.flower && giftsViewed.letter) {
            const finalQuestionBtn = document.getElementById("finalQuestionBtn");
            if (finalQuestionBtn) {
              finalQuestionBtn.addEventListener("click", openFinalQuestion);
            }
          }
        }
      });
    });

    function teleportNoButton() {
      const btn = noBtn;
      const card = document.querySelector(".card");
      const buttonsContainer = document.querySelector(".buttons");

      const containerRect = card.getBoundingClientRect();
      const btnRect = btn.getBoundingClientRect();
      const groupRect = buttonsContainer.getBoundingClientRect();

      const maxX = containerRect.width / 2 - btnRect.width / 2 - 10;
      const minX = -maxX;
      const maxY = 40;
      const minY = -40;

      const randomX = Math.random() * (maxX - minX) + minX;
      const randomY = Math.random() * (maxY - minY) + minY;

      const currentTransform = getComputedStyle(btn).transform;
      let fromX = 0, fromY = 0;

      if (currentTransform !== "none") {
        const values = currentTransform.split("(")[1].split(")")[0].split(",");
        if (values.length >= 6) {
          fromX = parseFloat(values[4]);
          fromY = parseFloat(values[5]);
        }
      }

      const toX = randomX;
      const toY = randomY;

      const midX = (fromX + toX) / 2 + (Math.random() > 0.5 ? 30 : -30);
      const midY = (fromY + toY) / 2 + (Math.random() > 0.5 ? 20 : -20);

      btn.style.setProperty("--from-x", fromX + "px");
      btn.style.setProperty("--from-y", fromY + "px");
      btn.style.setProperty("--mid-x", midX + "px");
      btn.style.setProperty("--mid-y", midY + "px");
      btn.style.setProperty("--to-x", toX + "px");
      btn.style.setProperty("--to-y", toY + "px");

      btn.classList.remove("teleporting");
      void btn.offsetWidth;
      btn.classList.add("teleporting");
    }

    noBtn.addEventListener("click", teleportNoButton);
  </script>
</body>
</html>
